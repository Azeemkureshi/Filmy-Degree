<!DOCTYPE html>

<html lang="hi">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Movie Website</title>
  <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.5.1/dist/confetti.browser.min.js"></script>
  <link href="https://vjs.zencdn.net/7.21.0/video-js.css" rel="stylesheet" />
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #121212;
      color: white;
      margin: 0;
      padding: 10px;
      display: flex;
      flex-direction: column;
      align-items: center;
    }
    .search-container {
      position: fixed;
      top: 0;
      left: 0;
      width: 95%;
      padding: 10px;
      background: transparent;
      z-index: 1000;
      display: flex;
      align-items: center;
      box-sizing: border-box;
    }
    .search-box {
      flex: 1;
      padding: 12px 15px;
      font-size: 16px;
      background: #333;
      color: white;
      border: none;
      border-radius: 50px;
      outline: none;
    }
    .search-icon {
      width: 24px;
      height: 24px;
      margin-left: -40px;
      cursor: pointer;
    }
    .category-container {
      position: sticky;
      top: 54px;
      left: 0;
      width: 98%;
      padding: 5px 0;
      background: #121212;
      display: flex;
      overflow-x: auto;
      scroll-behavior: smooth;
      z-index: 900;
      transition: opacity 0.3s ease;
    }
    .category-container.hidden {
      opacity: 0;
      pointer-events: none;
    }
    .category-container::-webkit-scrollbar {
      display: none;
    }
    .category-btn {
      padding: 6px 15px;
      border: none;
      border-radius: 50px;
      cursor: pointer;
      font-size: 14px;
      transition: transform 0.3s ease;
      background-color: #ff0000;
      color: white;
      margin: 0 5px;
      white-space: nowrap;
      box-shadow: 0 4px 8px rgba(0, 0, 0, 0.3);
    }
    .category-btn:hover {
      transform: scale(1.05);
    }
    .movie-container {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(150px, 1fr));
      gap: 10px;
      width: 100%;
      max-width: 800px;
      margin-top: 50px;
    }
    .movie {
      border-radius: 10px;
      overflow: hidden;
      cursor: pointer;
      transition: transform 0.3s ease;
    }
    .movie:hover {
      transform: scale(1.03);
    }
    .movie img {
      width: 100%;
      display: block;
      border-radius: 8px;
    }
    #noResults {
      display: none;
      text-align: center;
      margin-top: 110px;
    }
    #noResults img {
      width: 150px;
      display: block;
      margin: 0 auto;
    }
    #loading {
      margin-top: 110px;
      font-size: 16px;
      color: #aaa;
    }
    .modal, .quality-modal, .watch-modal, .live-tv-modal {
      display: none;
      position: fixed;
      top: 0; left: 0;
      width: 100%; height: 100%;
      background: rgba(0,0,0,0.7);
      backdrop-filter: blur(10px);
      justify-content: center;
      align-items: center;
      z-index: 9999;
    }
    .modal-content {
      background: #222;
      padding: 15px;
      width: 100%;
      height: 100%;
      overflow-y: auto;
      text-align: center;
      box-sizing: border-box;
      animation: fadeIn 0.3s ease-in-out;
    }
    .modal img {
      width: 100%;
      border-radius: 10px;
    }
    .modal h2 {
      margin: 10px 0 5px;
    }
    .modal p {
      font-size: 14px;
      color: #ccc;
    }
    .buttons {
      display: flex;
      gap: 10px;
      margin-top: 10px;
    }
    .btn {
      flex: 1;
      padding: 10px;
      border: none;
      border-radius: 5px;
      cursor: pointer;
      font-size: 16px;
    }
    .watch {
      background: #ff0000;
      color: white;
    }
    .download {
      background: white;
      color: black;
    }
.share {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 100%;
  font-weight: bold;
  background: linear-gradient(45deg, #28a745, #218838);
  color: white;
  border: none;
  border-radius: 8px;
  box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2);
  transition: all 0.2s ease-in-out;
}
.share:hover {
  transform: translateY(-2px);
  box-shadow: 0 6px 12px rgba(0, 0, 0, 0.3);
  background: linear-gradient(45deg, #218838, #1e7e34);
}
.btn:disabled {
    background-color: #555;
    cursor: not-allowed;
    color: #888;
}
.ad-iframe {
  width: 100%;
  max-width: 800px;
  height: 80px;
  border: none;
  display: block;
  margin: 10px 0;
}
.quality-content {
  background: #1f1f1f;
  padding: 20px;
  border-radius: 16px;
  box-shadow: 0 0 15px rgba(0,0,0,0.5);
  text-align: center;
  width: 90%;
  max-width: 300px;
  animation: scaleIn 0.3s ease;
}
.watch-content {
  background: #000;
  padding: 0;
  width: 100%;
  max-width: 1200px;
  height: 100%;
  display: flex;
  justify-content: center;
  align-items: center;
  animation: fadeIn 0.3s ease;
}
.iframe-wrapper {
  position: relative;
  width: 100%;
  max-width: 800px;
  padding-bottom: 56.25%;
  height: 0;
}
iframe.watch-frame {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 125%;
  border: none;
  border-radius: 8px;
}
.download-buttons {
  display: flex;
  flex-direction: column;
  gap: 10px;
  margin-top: 10px;
}
.download-buttons .btn {
  border-radius: 10px;
}
.live-tv-modal {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.8);
  backdrop-filter: blur(10px);
  justify-content: center;
  align-items: center;
  z-index: 9999;
}
.video-popup {
  display: none;
  position: fixed;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background: rgba(0, 0, 0, 0.9);
  z-index: 10000;
  justify-content: center;
  align-items: center;
}
.video-popup-content {
  background: #000;
  padding: 10px;
  border-radius: 10px;
  text-align: center;
  max-width: 800px;
  width: 90%;
  height: 90vh;
  display: flex;
  flex-direction: column;
  justify-content: center;
}
.video-popup video {
  width: 100%;
  height: 100%;
  border-radius: 8px;
}
.video-popup .close-btn {
  position: absolute;
  top: 10px;
  right: 10px;
  background: #ff0000;
  color: white;
  border: none;
  padding: 5px 10px;
  border-radius: 5px;
  cursor: pointer;
}
@keyframes scaleIn {
  from { transform: scale(0.9); opacity: 0; }
  to { transform: scale(1); opacity: 1; }
}
@keyframes fadeIn {
  from { opacity: 0; transform: scale(0.9); }
  to { opacity: 1; transform: scale(1); }
}
.category-btn:nth-child(1) { background-color: #ff0000; }
.category-btn:nth-child(2) { background-color: #2b1cff; }
.category-btn:nth-child(3) { background-color: #FF9933; }
.category-btn:nth-child(4) { background-color: #000080; }
.category-btn:nth-child(5) { background-color: #138808; }
  </style>
</head>
<body>
  <div class="search-container">
    <input type="text" class="search-box" id="search" placeholder="Search Movies..." onkeyup="searchMovies()"/>
    <img src="https://blogger.googleusercontent.com/img/b/R29vZ2xl/AVvXsEjMhMU_U1U48E_DDp0t5Ajd3rt4-9NruJvZ1qZyWuCTqbTvPGc8Gag5CJ8-KoSM6S-NGyKyNyIe4P2QzZqHXFrYTk6EpxHGNtvU7-qaSwbnJhtXpvriobmhJ13fxDqIQv4MTZZNI2eWazgwaWMBuML-kmmmVisKOIdMpjaetft1j8uoyYqR2CaXsVOyzDum/s256/1000342000.png" class="search-icon" alt="Search"/>
  </div>

  <div class="category-container">
    <button class="category-btn" onclick="openLiveTvPopup()">ùóõùó¢ùó™ ùóßùó¢  ùóóùó¢ùó™ùó°ùóüùó¢ùóîùóó</button>
    <!-- STEP 3: LIVE TV ‡§¨‡§ü‡§® ‡§ï‡§æ onclick ‡§¨‡§¶‡§≤‡§æ ‡§ó‡§Ø‡§æ ‡§π‡•à -->
    <button class="category-btn" onclick="openSecondWebsitePopup()">ùóüùó∂ùó©ùóò ùóßùó©</button>
    <button class="category-btn" onclick="filterMovies('2025')">ùüÆùü¨ùüÆùü±</button>
    <button class="category-btn" onclick="filterMovies('2024')">ùüÆùü¨ùüÆùü∞</button>
    <button class="category-btn" onclick="filterMovies('2023')">ùüÆùü¨ùüÆùüØ</button>
  </div>

  <div id="loading">Loading movies...</div>

  <div id="noResults">
    <img src="https://rukminim3.flixcart.com/www/850/400/promos/04/05/2018/3a392fd0-0a11-4135-b24a-837ae11740ff.png?q=90" alt="No Results"/>
    <h2>Result Not Found</h2>
    <p>This Movie is not available</p>
  </div>

  <div class="movie-container" id="movies"></div>

  <div class="modal" id="movieModal">
    <div class="modal-content">
      <img id="modalImage" src="" alt=""/>
      <h2 id="modalTitle"></h2>
      <p id="modalGenre"></p>
      <div id="modalAd"></div>
      <div class="buttons">
        <button class="btn watch" onclick="openWatchPopup()">WATCH NOW</button>
        <button class="btn download" onclick="toggleQualityPopup()">DOWNLOAD</button>
      </div>

  <div style="margin-top: 10px;">
    <button class="btn share" onclick="shareMovie()">
      <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="currentColor" viewBox="0 0 16 16" style="margin-right: 8px; vertical-align: middle;">
        <path d="M13.5 1a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zM11 2.5a2.5 2.5 0 1 1 .603 1.628l-6.718 3.12a2.499 2.499 0 0 1 0 1.504l6.718 3.12a2.5 2.5 0 1 1-.488.876l-6.718-3.12a2.5 2.5 0 1 1 0-3.256l6.718-3.12A2.5 2.5 0 0 1 11 2.5zm-8.5 4a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3zm11 5.5a1.5 1.5 0 1 0 0 3 1.5 1.5 0 0 0 0-3z"/>
      </svg>
      SHARE WITH FRIENDS
    </button>
  </div>

</div>
  </div>

  <div id="qualityPopup" class="quality-modal">
    <div class="quality-content">
      <h3>SELECT DOWNLOAD QUALITY</h3>
      <div class="download-buttons">
        <a id="download480p" class="btn download" target="_blank">DOWNLOAD LINK 480P</a>
        <a id="download720p" class="btn download" target="_blank">DOWNLOAD LINK 720P</a>
        <a id="download1080p" class="btn download" target="_blank">DOWNLOAD LINK 1080P</a>
      </div>
    </div>
  </div>

  <div id="watchPopup" class="watch-modal">
    <div class="watch-content">
      <div class="iframe-wrapper">
        <iframe id="watchIframe" class="watch-frame" allow="fullscreen" allowfullscreen></iframe>
      </div>
    </div>
  </div>

  <div id="liveTvPopup" class="live-tv-modal"></div>
  
  <!-- STEP 1: LIVE TV ‡§¨‡§ü‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§Ø‡§æ ‡§™‡•â‡§™‡§Ö‡§™ ‡§ï‡§Ç‡§ü‡•á‡§®‡§∞ -->
  <div id="secondWebsitePopup" class="live-tv-modal"></div>

  <div id="videoPopup" class="video-popup">
    <div class="video-popup-content">
      <button class="close-btn" onclick="closeVideoPopup()">‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç</button>
      <video id="videoPlayer" class="video-js" controls>
        <source id="videoSource" src="" type="application/x-mpegURL">
        ‡§Ü‡§™‡§ï‡§æ ‡§¨‡•ç‡§∞‡§æ‡§â‡§ú‡§º‡§∞ ‡§µ‡•Ä‡§°‡§ø‡§Ø‡•ã ‡§ü‡•à‡§ó ‡§ï‡•ã ‡§∏‡§™‡•ã‡§∞‡•ç‡§ü ‡§®‡§π‡•Ä‡§Ç ‡§ï‡§∞‡§§‡§æ‡•§
      </video>
    </div>
  </div>

  <script src="https://vjs.zencdn.net/7.21.0/video.min.js"></script>

  <script>
    const MOVIE_SHEET_ID = "1OlHQJyGezNU3FEu0VqHp-Z3zQrDc7xPqnY7po38d9pU";
    const AD_SHEET_ID = "1sAsrARX6-gauGu6OPkdiOBVoBlyIbwpBjbHxMm4c-OE";
    const API_KEY = "AIzaSyC1YPmJGo77go3igvLO4kewd0gdtXKXDRs";
    const MOVIE_URL = `https://sheets.googleapis.com/v4/spreadsheets/${MOVIE_SHEET_ID}/values/Sheet1?key=${API_KEY}`;
    const AD_URL = `https://sheets.googleapis.com/v4/spreadsheets/${AD_SHEET_ID}/values/Sheet1?key=${API_KEY}`;

    let movieData = [];
    let adsData = [];
    let currentWatchUrl = "";

    async function fetchMoviesAndAds() {
      try {
        const [movieResponse, adResponse] = await Promise.all([
          fetch(MOVIE_URL),
          fetch(AD_URL)
        ]);
        const movieDataJson = await movieResponse.json();
        const adDataJson = await adResponse.json();
        movieData = movieDataJson.values.slice(1);
        adsData = adDataJson.values.slice(1);
        displayMovies(movieData);
        setupScrollObserver();
      } catch (error) {
        console.error("Error fetching data:", error);
      }
    }

    function getRandomAd() {
      if (adsData.length > 0) {
        let index = Math.floor(Math.random() * adsData.length);
        return adsData[index];
      }
      return null;
    }

    function displayMovies(movies) {
      const container = document.getElementById("movies");
      container.innerHTML = "";
      document.getElementById("loading").style.display = "none";
      const reversedMovies = [...movies].reverse();
      reversedMovies.forEach((movie, index) => {
        let [title, imageUrl, watchLink, download480p, download720p, download1080p, genre] = movie;
        let div = document.createElement("div");
        div.classList.add("movie");
        div.innerHTML = `<img src="${imageUrl}" alt="${title}" onclick="openModal('${title}', '${imageUrl}', '${watchLink}', ['${download480p}', '${download720p}', '${download1080p}'], '${genre}')">`;
        container.appendChild(div);
        if ((index + 1) % 5 === 0) {
          const ad = getRandomAd();
          if (ad) {
            const [img, link] = ad;
            let adDiv = document.createElement("div");
            adDiv.classList.add("movie");
            adDiv.innerHTML = `<a href="${link}" target="_blank"><img src="${img}" alt="Ad"></a>`;
            container.appendChild(adDiv);
          }
        }
      });
      document.getElementById("noResults").style.display = movies.length === 0 ? "block" : "none";
    }

    function searchMovies() {
      let q = document.getElementById("search").value.toLowerCase();
      let filtered = movieData.filter(m => m[0].toLowerCase().includes(q));
      displayMovies(filtered);
    }

    function filterMovies(category) {
      let filtered = movieData.filter(m => m[6].toUpperCase() === category);
      displayMovies(filtered);
    }

    function toggleQualityPopup(show) {
      const popup = document.getElementById("qualityPopup");
      if (show === false || popup.style.display === "flex") {
        popup.style.display = "none";
        if (history.state && history.state.qualityOpen) history.back();
      } else {
        popup.style.display = "flex";
        confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
        history.pushState({ qualityOpen: true }, "");
      }
    }

    function openModal(title, imageUrl, watchLink, downloadLinks, genre) {
      document.getElementById("modalTitle").textContent = title;
      document.getElementById("modalImage").src = imageUrl;
      document.getElementById("modalGenre").textContent = genre;
      currentWatchUrl = watchLink;
      document.getElementById("qualityPopup").style.display = "none";
      let ad = getRandomAd();
      if (ad) {
        const [img, link] = ad;
        document.getElementById("modalAd").innerHTML = `<a href="${link}" target="_blank"><img src="${img}" style="width:100%;border-radius:10px;"></a>`;
      }
      let l480 = downloadLinks[0] || "#";
      let l720 = downloadLinks[1] || "#";
      let l1080 = downloadLinks[2] || "#";
      shortenAndSetLink(l480, "download480p");
      shortenAndSetLink(l720, "download720p");
      shortenAndSetLink(l1080, "download1080p");
      document.getElementById("download480p").disabled = !downloadLinks[0];
      document.getElementById("download720p").disabled = !downloadLinks[1];
      document.getElementById("download1080p").disabled = !downloadLinks[2];
      document.getElementById("movieModal").style.display = "flex";
      history.pushState({ modalOpen: true }, "");
    }
    
    function shareMovie() {
      const shareText = "ENJOY UNLIMITED\n\nMOVIES AND LIVE SPORTS\n\nDownload now -> https://minihit.in";

      if (navigator.share) {
        navigator.share({
          title: 'Unlimited Entertainment',
          text: shareText,
        })
        .then(() => console.log('Successfully shared'))
        .catch((error) => console.log('Error sharing:', error));
      } else {
        navigator.clipboard.writeText(shareText).then(() => {
          alert("‡§∂‡•á‡§Ø‡§∞ ‡§ï‡§æ ‡§ë‡§™‡•ç‡§∂‡§® ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à, ‡§á‡§∏‡§≤‡§ø‡§è ‡§Æ‡•à‡§∏‡•á‡§ú ‡§ï‡•ç‡§≤‡§ø‡§™‡§¨‡•ã‡§∞‡•ç‡§° ‡§™‡§∞ ‡§ï‡•â‡§™‡•Ä ‡§π‡•ã ‡§ó‡§Ø‡§æ ‡§π‡•à!");
        });
      }
    }

    function openWatchPopup() {
        const watchUrl = currentWatchUrl;
        if (!watchUrl || watchUrl.trim() === '' || watchUrl.trim() === '#') {
            alert("‡§á‡§∏ ‡§Æ‡•Ç‡§µ‡•Ä ‡§ï‡•á ‡§≤‡§ø‡§è ‡§µ‡•â‡§ö ‡§≤‡§ø‡§Ç‡§ï ‡§â‡§™‡§≤‡§¨‡•ç‡§ß ‡§®‡§π‡•Ä‡§Ç ‡§π‡•à‡•§");
            return;
        }
        if (watchUrl.includes("imdb.com/title/")) {
            const imdbTitleMatch = watchUrl.match(/title\/(tt\d+)/);
            if (imdbTitleMatch && imdbTitleMatch[1]) {
                const imdbTitle = imdbTitleMatch[1];
                const playerSrc = `https://himer365ery.com/play/${imdbTitle}`;
                document.getElementById("watchIframe").src = playerSrc;
                document.getElementById("watchPopup").style.display = "flex";
                confetti({ particleCount: 100, spread: 60, origin: { y: 0.6 } });
                history.pushState({ watchOpen: true }, "");
            } else {
                alert("IMDb ‡§≤‡§ø‡§Ç‡§ï ‡§Ö‡§Æ‡§æ‡§®‡•ç‡§Ø ‡§π‡•à‡•§");
            }
        } 
        else if (watchUrl.toLowerCase().endsWith(".m3u8")) {
            const videoPlayer = videojs('videoPlayer');
            document.getElementById('videoSource').src = watchUrl;
            videoPlayer.src({ src: watchUrl, type: 'application/x-mpegURL' });
            document.getElementById('videoPopup').style.display = 'flex';
            videoPlayer.load();
            videoPlayer.play();
            history.pushState({ videoOpen: true }, "");
        }
        else {
            document.getElementById("watchIframe").src = watchUrl;
            document.getElementById("watchPopup").style.display = "flex";
            confetti({ particleCount: 100, spread: 60, origin: { y: 0.6 } });
            history.pushState({ watchOpen: true }, "");
        }
    }

    function shortenAndSetLink(originalUrl, elementId) {
      if (originalUrl === "#") {
        document.getElementById(elementId).href = originalUrl;
        return;
      }
      fetch(`https://nanolinks.in/api?api=0988c5f0407c29f316166e18523395fd54336707&url=${originalUrl}`)
        .then(res => res.json())
        .then(data => {
          document.getElementById(elementId).href = data.shortenedUrl || originalUrl;
        })
        .catch(() => {
          document.getElementById(elementId).href = originalUrl;
        });
    }

    function openLiveTvPopup() {
      const popup = document.getElementById("liveTvPopup");
      popup.innerHTML = "";
      const iframe = document.createElement("iframe");
      iframe.src = "https://mini.allinonereborn.fun/jiotv-in/";
      iframe.style.width = "100%";
      iframe.style.height = "100%";
      iframe.style.border = "none";
      iframe.allow = "fullscreen";
      iframe.allowFullscreen = true;
      popup.appendChild(iframe);
      popup.style.display = "flex";
      confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
      history.pushState({ liveTvOpen: true }, "");
    }

    // STEP 2: LIVE TV ‡§¨‡§ü‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§Ø‡§æ ‡§´‡§Ç‡§ï‡•ç‡§∂‡§®
    function openSecondWebsitePopup() {
      const popup = document.getElementById("secondWebsitePopup"); // ‡§®‡§è ‡§™‡•â‡§™‡§Ö‡§™ ID ‡§ï‡•ã ‡§ü‡§æ‡§∞‡§ó‡•á‡§ü ‡§ï‡§∞‡•á‡§Ç
      popup.innerHTML = ""; // ‡§™‡•Å‡§∞‡§æ‡§®‡§æ iframe ‡§π‡§ü‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è
      const iframe = document.createElement("iframe");
      
      // === ‡§Ö‡§™‡§®‡•Ä ‡§¶‡•Ç‡§∏‡§∞‡•Ä ‡§µ‡•á‡§¨‡§∏‡§æ‡§á‡§ü ‡§ï‡§æ ‡§≤‡§ø‡§Ç‡§ï ‡§Ø‡§π‡§æ‡§Å ‡§°‡§æ‡§≤‡•á‡§Ç ===
      iframe.src = "https://sflex07.fun/PC2/Play.php"; 
      
      iframe.style.width = "100%";
      iframe.style.height = "100%";
      iframe.style.border = "none";
      iframe.allow = "fullscreen";
      iframe.allowFullscreen = true;
      popup.appendChild(iframe);
      popup.style.display = "flex";
      confetti({ particleCount: 100, spread: 70, origin: { y: 0.6 } });
      history.pushState({ secondWebsiteOpen: true }, ""); // ‡§¨‡•à‡§ï ‡§¨‡§ü‡§® ‡§ï‡•á ‡§≤‡§ø‡§è ‡§®‡§Ø‡§æ state
    }

    function closeLiveTvPopup() {
      const popup = document.getElementById("liveTvPopup");
      popup.style.display = "none";
      history.back();
    }

    function closeVideoPopup() {
      const popup = document.getElementById("videoPopup");
      popup.style.display = "none";
      const videoPlayer = videojs("videoPlayer");
      videoPlayer.pause();
      videoPlayer.src("");
      history.back();
    }

    // STEP 4: ‡§¨‡•à‡§ï ‡§¨‡§ü‡§® ‡§¶‡§¨‡§æ‡§®‡•á ‡§î‡§∞ ‡§¨‡§æ‡§π‡§∞ ‡§ï‡•ç‡§≤‡§ø‡§ï ‡§ï‡§∞‡§®‡•á ‡§™‡§∞ ‡§®‡§è ‡§™‡•â‡§™‡§Ö‡§™ ‡§ï‡•ã ‡§≠‡•Ä ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡§®‡•á ‡§ï‡§æ ‡§ï‡•ã‡§°
    window.addEventListener("popstate", () => {
      document.getElementById("movieModal").style.display = "none";
      document.getElementById("qualityPopup").style.display = "none";
      document.getElementById("watchPopup").style.display = "none";
      document.getElementById("liveTvPopup").style.display = "none";
      document.getElementById("secondWebsitePopup").style.display = "none"; // ‡§®‡§Ø‡§æ ‡§™‡•â‡§™‡§Ö‡§™ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç
      document.getElementById("videoPopup").style.display = "none";
      document.getElementById("watchIframe").src = "";
      const videoPlayer = videojs("videoPlayer");
      videoPlayer.pause();
      videoPlayer.src("");
    });

    window.addEventListener("click", function(e) {
      if (e.target.id === "movieModal") history.back();
      if (e.target.id === "qualityPopup") history.back();
      if (e.target.id === "watchPopup") history.back();
      if (e.target.id === "liveTvPopup") history.back();
      if (e.target.id === "secondWebsitePopup") history.back(); // ‡§®‡§Ø‡§æ ‡§™‡•â‡§™‡§Ö‡§™ ‡§¨‡§Ç‡§¶ ‡§ï‡§∞‡•á‡§Ç
      if (e.target.id === "videoPopup") closeVideoPopup();
    });

    function setupScrollObserver() {
      const categorySection = document.querySelector('.category-container');
      const movieContainer = document.querySelector('.movie-container');
      const observer = new IntersectionObserver((entries) => {
        entries.forEach(entry => {
          if (entry.boundingClientRect.top >= 0) {
            categorySection.classList.remove('hidden');
          } else {
            categorySection.classList.add('hidden');
          }
        });
      }, { threshold: 0 });
      observer.observe(movieContainer);
      window.addEventListener('scroll', () => {
        const movieTop = movieContainer.getBoundingClientRect().top;
        if (movieTop >= 0) {
          categorySection.classList.remove('hidden');
        } else {
          categorySection.classList.add('hidden');
        }
      });
    }

    fetchMoviesAndAds();
  </script>

</body>
</html>
